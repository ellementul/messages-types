
Сделать так чтобы такая ситуация была возможно только при пустом объекте в качестве типа.
Документация в виде JSON-sheme

Тестирование JSON строк?
Рефакторинг на модули?